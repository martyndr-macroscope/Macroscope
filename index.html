<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Macroscope — Experimental research prototype</title>

  <meta name="description" content="Macroscope is an experimental research tool for mapping scholarly fields as citation landscapes. This prototype explores new interfaces for navigating research at scale." />

  <!-- Google Analytics (unchanged) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-P4JGDSDVEQ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-P4JGDSDVEQ');
  </script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=IBM+Plex+Mono:wght@300;400;500&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #05070b;
      --bg-soft: #0b101a;
      --border-soft: rgba(255,255,255,0.12);
      --border-strong: rgba(255,255,255,0.26);
      --text: #f5f5ff;
      --muted: #9ba0b8;
      --accent: #b6ff85;
      --accent-soft: rgba(182,255,133,0.12);
      --danger: #ff6a6a;
      --radius-lg: 16px;
      --radius-sm: 10px;
      --shadow-soft: 0 18px 50px rgba(0,0,0,0.6);
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    body {
      font-family: "Space Grotesk", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at 0 0, #14192a 0, transparent 55%),
        radial-gradient(circle at 100% 0, #231220 0, transparent 55%),
        radial-gradient(circle at 50% 90%, #0e1f1a 0, transparent 60%),
        var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
    }

    a { color: inherit; text-decoration: none; }

    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .container {
      width: min(1100px, 92vw);
      margin: 0 auto;
    }

    /* HEADER */

    .header {
      border-bottom: 1px solid rgba(255,255,255,0.10);
      backdrop-filter: blur(10px);
      background: linear-gradient(
        to bottom,
        rgba(5,7,11,0.9),
        rgba(5,7,11,0.6)
      );
      position: sticky;
      top: 0;
      z-index: 20;
    }

    .header-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 0;
      gap: 18px;
    }

    .header-left {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .header-label {
      font-family: "IBM Plex Mono", monospace;
      font-size: 11px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--muted);
    }

    .header-title {
      font-size: 15px;
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .header-tag {
      font-family: "IBM Plex Mono", monospace;
      font-size: 11px;
      padding: 5px 9px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.4);
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.16em;
    }

    .brand-logo {
      height: 40px;
      width: auto;
      display: block;
      filter: drop-shadow(0 8px 30px rgba(0,0,0,0.6));
      opacity: 0.9;
    }

    /* MAIN LAYOUT */

    .main {
      flex: 1;
      padding: 40px 0 40px;
    }

    .hero {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.5fr);
      gap: 32px;
      align-items: flex-start;
    }

    @media (max-width: 900px) {
      .hero {
        grid-template-columns: 1fr;
      }
    }

    .eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-family: "IBM Plex Mono", monospace;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      font-size: 11px;
      color: var(--muted);
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px dashed rgba(255,255,255,0.35);
      background: rgba(0,0,0,0.45);
    }

    .eyebrow-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 12px rgba(182,255,133,0.8);
    }

    .title {
      font-size: clamp(34px, 4.2vw, 48px);
      line-height: 1.05;
      letter-spacing: -0.04em;
      margin: 18px 0 10px;
    }

    .subtitle {
      font-size: 15px;
      line-height: 1.6;
      color: var(--muted);
      max-width: 38rem;
    }

    .subtitle strong {
      color: var(--accent);
      font-weight: 600;
    }

    /* META COLUMN */

    .meta-block {
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-soft);
      background: rgba(4, 7, 14, 0.9);
      box-shadow: var(--shadow-soft);
      padding: 16px 18px 14px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px 16px;
      margin-top: 18px;
    }

    @media (max-width: 900px) {
      .meta-block {
        grid-template-columns: 1fr;
      }
    }

    .meta-item-label {
      font-family: "IBM Plex Mono", monospace;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--muted);
      margin-bottom: 3px;
    }

    .meta-item-value {
      font-size: 13px;
      color: var(--text);
    }

    /* RIGHT COLUMN: VIDEO + STATUS */

    .panel {
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-soft);
      background:
        linear-gradient(to bottom right, rgba(255,255,255,0.04), transparent),
        rgba(5,7,11,0.96);
      box-shadow: var(--shadow-soft);
      padding: 16px 16px 18px;
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .panel-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 4px;
    }

    .panel-title {
      font-family: "IBM Plex Mono", monospace;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--muted);
    }

    .panel-badge {
      font-family: "IBM Plex Mono", monospace;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.5);
      color: var(--accent);
    }

    .video-embed {
      position: relative;
      width: 100%;
      aspect-ratio: 16 / 9;
      border-radius: var(--radius-sm);
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.15);
      background: radial-gradient(circle at 50% 0, #1f2933, #05070b);
    }

    .video-embed iframe {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }

    .panel-links {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 6px;
    }

    /* BUTTONS: MORE TOOL / LAB NOTEBOOK THAN MARKETING */

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 7px 14px;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: rgba(5,7,11,0.8);
      color: var(--text);
      font-size: 13px;
      font-weight: 500;
      font-family: "IBM Plex Mono", monospace;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      cursor: pointer;
      transition: background 0.15s ease, transform 0.1s ease, border-color 0.15s ease;
    }

    .btn:hover {
      background: rgba(10,13,22,1);
      transform: translateY(-1px);
      border-color: var(--border-strong);
    }

    .btn-primary {
      border-color: var(--accent);
      background: var(--accent-soft);
      color: var(--accent);
    }

    .btn-primary:hover {
      background: rgba(182,255,133,0.18);
    }

    /* FORM: LAB SIGNUP CARD */

    form {
      margin-top: 24px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px 18px;
    }

    @media (max-width: 720px) {
      form {
        grid-template-columns: 1fr;
      }
    }

    label {
      font-size: 12px;
      color: var(--muted);
      font-family: "IBM Plex Mono", monospace;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      display: block;
      margin-bottom: 5px;
    }

    .field {
      display: flex;
      flex-direction: column;
    }

    input {
      font: inherit;
      padding: 9px 10px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.22);
      background: rgba(3,5,9,0.85);
      color: var(--text);
    }

    input::placeholder {
      color: rgba(155,160,184,0.7);
    }

    input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(182,255,133,0.4);
    }

    .form-footer {
      grid-column: 1 / -1;
      display: flex;
      flex-wrap: wrap;
      gap: 10px 16px;
      align-items: center;
      margin-top: 4px;
    }

    .note {
      font-size: 11px;
      color: var(--muted);
    }

    .status {
      font-size: 12px;
      font-family: "IBM Plex Mono", monospace;
      color: var(--accent);
      min-height: 1em;
    }

    /* CAPABILITIES / METHODS SECTION */

    .section {
      margin-top: 40px;
    }

    .section-label {
      font-family: "IBM Plex Mono", monospace;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--muted);
      margin-bottom: 10px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .section-label span {
      width: 10px;
      height: 1px;
      background: rgba(255,255,255,0.4);
    }

    .cap-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
    }

    @media (max-width: 960px) {
      .cap-grid {
        grid-template-columns: 1fr;
      }
    }

    .cap-card {
      border-radius: var(--radius-lg);
      border: 1px dashed rgba(153, 160, 192, 0.7);
      background: rgba(7,10,18,0.92);
      padding: 14px 16px 16px;
      position: relative;
      overflow: hidden;
    }

    .cap-index {
      font-family: "IBM Plex Mono", monospace;
      font-size: 11px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.16em;
      margin-bottom: 4px;
    }

    .cap-card h3 {
      margin: 0 0 6px;
      font-size: 15px;
    }

    .cap-card p {
      margin: 0;
      font-size: 13px;
      line-height: 1.6;
      color: var(--muted);
    }

    /* FOOTER */

    .footer {
      border-top: 1px solid rgba(255,255,255,0.1);
      padding: 18px 0 28px;
      margin-top: 40px;
      font-size: 11px;
      color: var(--muted);
      font-family: "IBM Plex Mono", monospace;
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }

    .footer span {
      opacity: 0.9;
    }

    .footer small {
      font-size: 11px;
    }
  </style>
</head>
<body>
  <div class="page">
    <header class="header">
      <div class="container header-inner">
        <div class="header-left">
          <div class="header-label">Semantic Space</div>
          <div class="header-title">Academic Analytics</div>
        </div>
        <div class="header-right">
          <div class="header-tag">Experimental · In development</div>
          <img class="brand-logo" src="semanticspace-logo.png" alt="Semantic Space logo" />
        </div>
      </div>
    </header>

    <main class="main">
      <div class="container hero">
        <!-- LEFT: TEXT + FORM -->
        <section>
          <span class="eyebrow">
            <span class="eyebrow-dot"></span>
            Private beta coming soon
          </span>

          <h1 class="title">Introducing Macroscope</h1>

          <p class="subtitle">
            The first age of science began with the telescope, when we learned to see the distant. The second began with the microscope, when we learned to see the minute. The third begins with the <strong>Macroscope</strong>, when we learn to see the whole.
          </p>

          <div class="meta-block">
            <div>
              <div class="meta-item-label">Prototype status</div>
              <div class="meta-item-value">Closed experimental beta</div>
            </div>
            <div>
              <div class="meta-item-label">Focus</div>
              <div class="meta-item-value">Citation landscapes · visual navigation</div>
            </div>
            <div>
              <div class="meta-item-label">Intended users</div>
              <div class="meta-item-value">Researchers, editors, bibliometricians</div>
            </div>
            <div>
              <div class="meta-item-label">Interface</div>
              <div class="meta-item-value">Browser based · interactive map</div>
            </div>
          </div>

          <!-- Early access form (same fields & endpoint) -->
          <form id="early-access" onsubmit="return handleEarlyAccess(event)">
            <div class="field">
              <label for="name">Name</label>
              <input id="name" name="name" placeholder="Your name" required />
            </div>

            <div class="field">
              <label for="email">Email</label>
              <input id="email" name="email" type="email" placeholder="Email" required />
            </div>

            <div class="field">
              <label for="org">Organisation</label>
              <input id="org" name="org" placeholder="Organization (optional)" />
            </div>

            <div class="field">
              <label for="domain">Subject Domain Interest</label>
              <input id="domain" name="domain" placeholder="Subject Domain Interest" required />
            </div>

            <div class="form-footer">
              <button class="btn btn-primary" type="submit">Join early access</button>
              <div class="note">We’ll only use this info to contact you about Macroscope. No spam.</div>
              <div class="status" id="status" role="status" aria-live="polite"></div>
            </div>
          </form>
        </section>

        <!-- RIGHT: VIDEO + DEMO / BETA LINKS -->
        <aside class="panel">
          <div class="panel-header">
            <div class="panel-title">Field recording · interface walkthrough</div>
            <div class="panel-badge">Video</div>
          </div>

          <div class="video-embed" aria-label="Macroscope overview video">
            <iframe
              src="https://www.youtube.com/embed/-TJSqPAysT8"
              title="Macroscope overview"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen
            ></iframe>
          </div>

          <div class="panel-links">
            <a class="btn" href="demo/">Open demo environment</a>
            <button class="btn" type="button" onclick="openBetaAccess()">Beta access (password)</button>
          </div>
        </aside>
      </div>

      <!-- CAPABILITIES / METHODS -->
      <section class="container section">
        <div class="section-label">
          <span></span>
          Capabilities (current build)
        </div>

        <div class="cap-grid">
          <article class="cap-card">
            <div class="cap-index">01 / data ingestion</div>
            <h3>Compile thousands of research papers in minutes</h3>
            <p>Drop in a PDF or topic. Macroscope builds a clean, navigable map of the field—beautiful, minimal, and designed to reveal structure rather than bury it in lists.</p>
          </article>

          <article class="cap-card">
            <div class="cap-index">02 / navigation lenses</div>
            <h3>Dimensions: visual search &amp; sort</h3>
            <p>An intuitive lens for authors, concepts, venues and institutions. Filter visually, combine facets, and apply bibliometrics to surface what matters.</p>
          </article>

          <article class="cap-card">
            <div class="cap-index">03 / analysis</div>
            <h3>Traceable AI analysis</h3>
            <p>AI-generated summaries and analyses are grounded in the map. Each claim links back to its node and original source, keeping insight auditable.</p>
          </article>
        </div>
      </section>
    </main>

    <footer class="container footer">
      <span>© <span id="year"></span> Semantic Space · Macroscope prototype.</span>
      <small>Internal research build. Interfaces, models and features may change without notice.</small>
    </footer>
  </div>

  <script>
    // ===== Early access handler (unchanged endpoint) =====
    const FORMSPREE_ENDPOINT = "https://formspree.io/f/xvgwdawq";

    async function handleEarlyAccess(e) {
      e.preventDefault();
      const form = e.currentTarget;
      const btn = form.querySelector('button[type="submit"]');
      const status = document.getElementById('status');
      status.textContent = '';

      const payload = {
        name: form.name.value.trim(),
        email: form.email.value.trim(),
        organization: form.org.value.trim(),
        subject_domain_interest: form.domain.value.trim(),
        _subject: 'Early access — Macroscope',
        _gotcha: ''
      };

      if (!FORMSPREE_ENDPOINT || FORMSPREE_ENDPOINT === 'ACTION_URL') {
        status.textContent = 'Form endpoint not configured. Please set FORMSPREE_ENDPOINT.';
        return false;
      }

      btn.disabled = true;
      btn.textContent = 'Sending…';

      try {
        const res = await fetch(FORMSPREE_ENDPOINT, {
          method: 'POST',
          headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(payload)
        });

        if (res.ok) {
          form.reset();
          status.textContent = 'Thanks! We\'ll be in touch at your email soon.';
        } else {
          const data = await res.json().catch(() => ({}));
          status.textContent = data?.error || 'Sorry, something went wrong. Please try again.';
        }
      } catch (err) {
        status.textContent = 'Network error — please try again.';
      } finally {
        btn.disabled = false;
        btn.textContent = 'Join early access';
      }

      return false;
    }

    // Year stamp
    document.getElementById('year').textContent = new Date().getFullYear();

    // Simple password-gated beta access (same behaviour as before)
    function openBetaAccess() {
      const pwd = window.prompt('Enter beta access password:');
      if (pwd === null) return;

      if (pwd === 'macroscope') {
        try {
          sessionStorage.setItem('macroscope_beta_ok', 'yes');
        } catch (e) {
          console.warn('Could not persist beta flag in sessionStorage:', e);
        }
        window.location.href = 'beta/';
      } else {
        window.alert('Incorrect password.');
      }
    }
  </script>
</body>
</html>
